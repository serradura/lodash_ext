!function(n){!function(n){function t(t,i){return n.isString(i)||n.isArray(i)||t(i)?n.isEmpty(i):void 0}n.mixin({isBlank:function(i){var r;if(n.isNumber(i)&&!n.isNaN(i))return!1;if(n.isPlainObject)r=t(n.isPlainObject,i);else{if(n.isDate(i)||n.isFunction(i)||n.isRegExp(i)||n.isElement(i))return!1;r=t(n.isObject,i)}return r||(i?!1:!0)},isPresent:function(t){return!n.isBlank(t)}})}(n),function(n){function t(n){return/^f|^o/.test(typeof n)}function i(n,i){var r,e,u,s=i.length,f=n;if(0===s)throw"_.get: query is empty";for(u=0;s>u&&t(f);u++)r=f,e=i[u],f=r[e];return f}function r(t,i,r){var e=i?String(i).split("."):[];if(!t||!n.isObject(t))throw"_."+r+": invalid object";if(!i||n.isEmpty(e))throw"_."+r+": query is empty";return e}function e(n,t){var e=r(n,t,"get");return i(n,e)}function u(n,t,e){var u=r(n,t,"fetch"),s=i(n,u);if(s||e)return s?s:e;throw"_.fetch: key not found: "+t}n.mixin({get:e,fetch:u})}(n),function(n){n.supplantKeyReplacer=/%\{([^\}]+)\}/g,n.supplantListReplacer=/(%\?)/g,n.supplant=function(n){function t(n,t){if(null!==n&&void 0!==n)return String(n);throw"_.supplant: key["+t+"] not found"}function i(i,r){var e=0;return i.replace(n.supplantListReplacer,function(){var n=r[e];return 1!==r.length&&e++,t(n,e-1)})}function r(i,r){return i.replace(n.supplantKeyReplacer,function(n,i){var e=r[i];return t(e,i)})}function e(n,t){var e=this.isArray(t)?i:r;return e(n,t)}return e.byList=i,e.byKey=r,n.mixin({sup:e}),e}(n)}(n)}(this._);